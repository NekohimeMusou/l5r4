<form class="{{cssClass}}" autocomplete="off">
  <section class="top">
    <img class="actor-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" />
    <div class="npc-stats">
      <h2 class="npc-name">
        {{localize "l5r4.traits.name"}}:
        <input class="npc-name-in" type="text" name="name" value="{{actor.name}}" placeholder="Name" />
      </h2>
      <div class="npc-init">
        {{localize "l5r4.mech.init"}}:
        <input name="data.initiative.roll" type="number" value="{{data.initiative.roll}}" data-type="Number" />
        k
        <input name="data.initiative.keep" type="number" value="{{data.initiative.keep}}" data-type="Number" />
      </div>
      <div class="npc-attack1">
        <a class="attack1-roll" data-roll="{{data.attack1.roll}}" data-keep="{{data.attack1.keep}}"
          data-desc="{{data.attack1.type}}">
          <img title="{{localize " l5r4.mech.attackRoll"}}" src="icons/dice/d10black.svg" />
        </a>
        {{localize "l5r4.mech.attack"}}:
        <input name="data.attack1.roll" type="number" value="{{data.attack1.roll}}" data-type="Number" />
        k
        <input name="data.attack1.keep" type="number" value="{{data.attack1.keep}}" data-type="Number" />
        <select name="data.attack1.type">
          <option selected disabled>{{localize "l5r4.mech.action"}}</option>
          {{#select data.attack1.type}}
          {{#each config.actionTypes as |name type|}}
          <option value="{{type}}">{{localize name}}</option>
          {{/each}}
          {{/select}}
        </select>
      </div>
      <div class="npc-damage1">
        <a class="damage1-roll" data-roll="{{data.damage1.roll}}" data-keep="{{data.damage1.keep}}"
          data-desc="{{data.damage1.type}}">
          <img title="{{localize " l5r4.mech.damageRoll"}}" src="icons/dice/d10black.svg" />
        </a>
        {{localize "l5r4.weapon.damage"}}:
        <input name="data.damage1.roll" type="number" value="{{data.damage1.roll}}" data-type="Number" />
        k
        <input name="data.damage1.keep" type="number" value="{{data.damage1.keep}}" data-type="Number" />
        {{localize "l5r4.skill.type"}}:
        <input class="damage-type" name="data.damage1.type" type="text" value="{{data.damage1.type}}"
          data-type="string" />
      </div>
      <div class="npc-attack2">
        <a class="attack2-roll" data-roll="{{data.attack2.roll}}" data-keep="{{data.attack2.keep}}"
          data-desc="{{data.attack2.type}}">
          <img title="{{localize " l5r4.mech.attackRoll"}}" src="icons/dice/d10black.svg" />
        </a>
        {{localize "l5r4.mech.attack"}}:
        <input name="data.attack2.roll" type="number" value="{{data.attack2.roll}}" data-type="Number" />
        k
        <input name="data.attack2.keep" type="number" value="{{data.attack2.keep}}" data-type="Number" />
        <select name="data.attack2.type">
          <option selected disabled>{{localize "l5r4.mech.action"}}</option>
          {{#select data.attack2.type}}
          {{#each config.actionTypes as |name type|}}
          <option value="{{type}}">{{localize name}}</option>
          {{/each}}
          {{/select}}
        </select>
      </div>
      <div class="npc-damage">
        <a class="damage2-roll" data-roll="{{data.damage2.roll}}" data-keep="{{data.damage2.keep}}"
          data-desc="{{data.damage2.type}}">
          <img title="{{localize " l5r4.mech.damageRoll"}}" src="icons/dice/d10black.svg" />
        </a>
        {{localize "l5r4.weapon.damage"}}:
        <input name="data.damage2.roll" type="number" value="{{data.damage2.roll}}" data-type="Number" />
        k
        <input name="data.damage2.keep" type="number" value="{{data.damage2.keep}}" data-type="Number" />
        {{localize "l5r4.skill.type"}}:
        <input class="damage-type" name="data.damage2.type" type="text" value="{{data.damage2.type}}"
          data-type="string" />
      </div>
      <div class="npc-armor-tn">
        {{localize "l5r4.traits.armorTn"}}:
        <input name="data.armor.armor_tn" type="number" value="{{data.armor.armor_tn}}" data-type="Number" />
      </div>
      <div class="npc-reduction">
        {{localize "l5r4.armor.reduction"}}:
        <input name="data.armor.reduction" type="number" value="{{data.armor.reduction}}" data-type="Number" />
      </div>
      <div class="npc-suffered">
        {{localize "l5r4.traits.woundsSuffered"}}:
        <input name="data.suffered" type="number" value="{{data.suffered}}" data-type="Number" />
      </div>
      <div class="npc-max-wounds">
        {{localize "l5r4.traits.wounds"}}:
        <input name="data.wounds.max" type="number" value="{{data.wounds.max}}" data-type="Number" />
      </div>
      <div class="npc-nr-wounds">
        {{localize "l5r4.sheet.nrWoundLvls"}}
        <select name="data.nrWoundLvls" >
          {{#select data.nrWoundLvls}}
          {{#each data.wound_lvl}}
          <option value="{{math @index "+" 1}}">{{math @index "+" 1}}</option>
          {{/each}}
          {{/select}}
        </select>
      </div>
      {{#each data.woundLvlsUsed as |wound_lvl name|}}
      <div class="npc-wound-lvls">
        <input type="number" name="data.wound_lvl.{{name}}.value" value="{{value}}"
          class="wounds-lvl-value-{{@index}}" />
        <input type="text" name="data.wound_lvl.{{name}}.penalty" value="{{penalty}}"
          class="wounds-lvl-penalty-{{@index}}" />
        <input type="checkbox" disabled name="data.wound_lvl.{{name}}.current" class="wounds-lvl-current-{{@index}}" {{checked
          current}} data-type="Boolean" />
      </div>
      {{/each}}
    </div>
  </section>
  <table class="npc-rings">
    <th>
      <a class="simple-roll" data-roll="{{data.rings.air}}" data-keep="{{data.rings.air}}" data-type="{{localize "
        l5r4.mech.ringRoll"}}">
        {{localize "l5r4.rings.air"}}
      </a>
    </th>
    <td><input name="data.rings.air" type="number" value="{{data.rings.air}}" data-type="Number" /></td>
    <th>
      <a class="simple-roll" data-roll="{{data.rings.earth}}" data-keep="{{data.rings.earth}}" data-type="{{localize "
        l5r4.mech.ringRoll"}}">
        {{localize "l5r4.rings.earth"}}
      </a>
    </th>
    <td><input name="data.rings.earth" type="number" value="{{data.rings.earth}}" data-type="Number" /></td>
    <th>
      <a class="simple-roll" data-roll="{{data.rings.fire}}" data-keep="{{data.rings.fire}}" data-type="{{localize "
        l5r4.mech.ringRoll"}}">
        {{localize "l5r4.rings.fire"}}
      </a>
    </th>
    <td><input name="data.rings.fire" type="number" value="{{data.rings.fire}}" data-type="Number" /></td>
    <th>
      <a class="simple-roll" data-roll="{{data.rings.water}}" data-keep="{{data.rings.water}}" data-type="{{localize "
        l5r4.mech.ringRoll"}}">
        {{localize "l5r4.rings.water"}}
      </a>
    </th>
    <td><input name="data.rings.water" type="number" value="{{data.rings.water}}" data-type="Number" /></td>
    <tr>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.ref}}" data-keep="{{data.traits.ref}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.ref"}}
        </a>
      </td>
      <td><input name="data.traits.ref" type="number" value="{{data.traits.ref}}" data-type="Number" /></td>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.sta}}" data-keep="{{data.traits.sta}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.sta"}}
        </a>
      </td>
      <td><input name="data.traits.sta" type="number" value="{{data.traits.sta}}" data-type="Number" /></td>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.agi}}" data-keep="{{data.traits.agi}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.agi"}}
        </a>
      </td>
      <td><input name="data.traits.agi" type="number" value="{{data.traits.agi}}" data-type="Number" /></td>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.str}}" data-keep="{{data.traits.str}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.str"}}
        </a>
      </td>
      <td><input name="data.traits.str" type="number" value="{{data.traits.str}}" data-type="Number" /></td>
    </tr>
    <tr>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.awa}}" data-keep="{{data.traits.awa}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.awa"}}
        </a>
      </td>
      <td><input name="data.traits.awa" type="number" value="{{data.traits.awa}}" data-type="Number" /></td>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.wil}}" data-keep="{{data.traits.wil}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.wil"}}
        </a>
      </td>
      <td><input name="data.traits.wil" type="number" value="{{data.traits.wil}}" data-type="Number" /></td>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.int}}" data-keep="{{data.traits.int}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.int"}}
        </a>
      </td>
      <td><input name="data.traits.int" type="number" value="{{data.traits.int}}" data-type="Number" /></td>
      <td>
        <a class="simple-roll" data-roll="{{data.traits.per}}" data-keep="{{data.traits.per}}" data-type="{{localize "
          l5r4.mech.traitRoll"}}">
          {{localize "l5r4.traits.per"}}
        </a>
      </td>
      <td><input name="data.traits.per" type="number" value="{{data.traits.per}}" data-type="Number" /></td>
    </tr>
  </table>
  <div class="npc-notes">
    <h2>{{localize "l5r4.sheet.notes"}}</h2>
    {{editor content=data.notes target="data.notes" button=true owner=owner editable=editable}}
  </div>
</form>